# 【Java】内存



[toc]



相关视频：

[【尚学堂】Java300集 - 高琪(零基础初学入门)UP求求各位点个关注吧！064\_内存分析详解\_栈\_堆\_方法区\_栈帧\_程序执行的内存变化过程](https://www.bilibili.com/video/BV1ct411n7oG?p=65)

[【零基础 快速学Java】韩顺平 零基础30天学会Java 0176\_韩顺平Java\_二维数组内存布局](https://www.bilibili.com/video/BV1fh411y7R8?p=177)

[【零基础 快速学Java】韩顺平 零基础30天学会Java 0194\_韩顺平Java\_对象内存布局](https://www.bilibili.com/video/BV1fh411y7R8?p=195)



![](D:\Notes\Java\Java.assets\二维数组在内存中存在的形式.png)

![](D:\Notes\Java\Java.assets\对象在内存中存在的形式.png)



## 栈

调用方法 → 创建一个栈帧
线程私有，不共享
连续的空间
速度快



## 堆

存储创建好的对象和数组（数组也是一个对象）
JVM只有一个堆，所有线程共享
不连续的空间
速度快



## 方法区

存储类信息、静态变量、静态方法、常量等
JVM只有一个方法区，所有线程共享
本质上是一个堆



## 垃圾回收机制

C++没有垃圾回收器

垃圾回收相关算法
	引用计数法：无法识别循环引用
	引用可达法 / 根搜索法（通常使用）

分代垃圾回收机制
	年轻代
	年老代
	持久代
